<html>
<body>
<h3 id="day"></h3>
<p id="p"></p>

<table id="table" style="white-space:pre"></table></body><script>
t=[,["Monday",[810,900,"1st Period"],[905,1000,"2nd Period"],[1000,1010,"Brunch"],[1015,1105,"3rd Period"],[1110,1200,"4th Period"],[1200,1245,"Lunch"],[1250,1340,"5th Period"],[1345,1435,"6th Period"],[1440,1530,"7th Period"]],["Tuesday",[810,855,"1st Period"],[900,950,"2nd Period"],[950,1000,"Brunch"],[1005,1050,"3rd Period"],[1055,1125,"Tutorial"],[1130,1215,"4th Period"],[1215,1300,"Lunch"],[1305,1350,"5th Period"],[1355,1440,"6th Period"],[1445,1530,"7th Period"]],["Wednesday",[850,1025,"2nd Period"],[1025,1040,"Brunch"],[1045,1215,"4th Period"],[1215,1300,"Lunch"],[1305,1435,"6th Period"]],["Thursday",[810,945,"1st Period"],[945,1000,"Brunch"],[1005,1135,"3rd Period"],[1135,1220,"Lunch"],[1225,1355,"5th Period"],[1400,1530,"7th Period"]],["Friday",[810,900,"1st Period"],[905,1000,"2nd Period"],[1000,1010,"Brunch"],[1015,1105,"3rd Period"],[1110,1200,"4th Period"],[1200,1245,"Lunch"],[1250,1340,"5th Period"],[1345,1435,"6th Period"],[1440,1530,"7th Period"]]];

f=function(a){return a.replace(/(\d\d)$/,":$1")};

(b=function(){
banner = document.getElementById("p")
x=date = new Date();
banner.innerHTML="";
hours =date.getHours()
min = date.getMinutes()
currTime = hours*100 + min;
day = t[date.getDay()];
if(currTime >= day[1][0] && currTime < day[day.length-1][1]){
	if(day.some(function(v){return currTime >= (x=v)[0] && currTime < v[1];})){
		banner.innerHTML+=(x[2]);
        m = ((x[1]/100|0)-hours)*60+ x[1]%100-min;
        s = date.getSeconds();
        s>0&&(m--,s=60-s);
        hrs = m/60|0;
        m = m%60;
        banner.innerHTML+=(" ends in: " + hrs + " hours, " + m + " minutes, and " + s + " seconds");
        document.title = hrs+"h "+m+"m "+s+"s"
    } else {
    	banner.innerHTML=document.title=("Passing Period");
    }
} else {
	banner.innerHTML=document.title=("No School");
}
document.getElementById("day").innerHTML=day[0];
setTimeout(b,+new Date()%1000);})()

table = document.getElementById("table");

table.appendChild(row = document.createElement("tr"));

for(i = 1; i < 6; i++){
    header = document.createElement("th");
    header.innerHTML = t[i][0];
    row.appendChild(header);
}
for(i = 1; i < 11; i++){
    table.appendChild(row = document.createElement("tr"));
    for(j = 1; j < 6; j++){
    	timeentry = document.createElement("td");
        arr = t[j][i]
        if(arr){
    		timeentry.innerHTML = arr[2] + "\n" + f(arr[0]+"")+" - " + f(arr[1]+"");
    	}
        row.appendChild(timeentry);
    }
}
</script>
<style>
table, tr, td, th {
    border: 1px solid black;
    border-collapse: collapse;
}
</style></html>
